(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],u=0,v=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(v.length)v.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/ui/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1995:function(t,e,a){"use strict";var n=a("558a"),r=a.n(n);r.a},"1d88":function(t,e,a){},"3e98":function(t,e,a){},4084:function(t,e,a){"use strict";var n=a("5436"),r=a.n(n);r.a},5436:function(t,e,a){},"558a":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("b970"),s=(a("157a"),a("8c4f")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-md-offset-2"},[a("div",{staticClass:"panel panel-default"},[t._m(0),t.loading?a("van-skeleton",{staticClass:"van-skeleton",attrs:{title:"",row:8}}):t._e(),t.loading?t._e():a("table",{staticClass:"table table-hover"},[a("tbody",t._l(t.jvms,(function(e){return a("tr",{key:e.vmid},[t._m(1,!0),a("td",{staticClass:"col-md-10"},[a("router-link",{attrs:{to:"/jvm/"+e.vmid+"/vm"}},[a("div",[t._v(t._s(e.vmid))]),a("div",{staticStyle:{"margin-top":"4px","word-break":"break-all"}},[t._v(" "+t._s(e.displayName)+" ")])])],1)])})),0)])],1)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("JVM")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"col-md-2"},[a("div",[t._v("PID:")]),a("div",{staticStyle:{"margin-top":"4px"}},[t._v("Name:")])])}],c=(a("96cf"),a("1da1")),l=a("bc3a"),d={name:"Home",data:function(){return{loading:!0,jvms:null}},methods:{getJVM:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.get("/api/jvms").catch((function(t){console.log(t)}));case 2:e=t.sent,this.jvms=e.data,this.loading=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getJVM()}},u=d,v=(a("bc98"),a("2877")),p=Object(v["a"])(u,i,o,!1,null,"8d713dd8",null),m=p.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("table",{staticClass:"table table-hover card"},[a("tbody",[a("tr",[a("div",[a("router-link",{attrs:{to:"/jvm/"+t.id+"/vm"}},[t._v("VM概要")])],1)]),a("tr",[a("div",[a("router-link",{attrs:{to:"/jvm/"+t.id+"/memory"}},[t._v("内存")])],1)]),a("tr",[a("div",[a("router-link",{attrs:{to:"/jvm/"+t.id+"/thread"}},[t._v("线程")])],1)])])])]),a("div",{staticClass:"col-md-10"},[a("div",{staticClass:"card"},[a("router-view")],1)])])},f=[],g={name:"Detail",data:function(){return{id:null,loading:!0}},methods:{},created:function(){this.id=this.$route.params.id}},b=g,_=(a("9917"),Object(v["a"])(b,h,f,!1,null,"88e082ba",null)),C=_.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("p",{staticClass:"head"},[t._v("VM概要")]),t.loading?a("van-skeleton",{staticClass:"van-skeleton",attrs:{title:"",row:8}}):t._e(),t.loading?t._e():a("div",[a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("主类")])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(t.data.mainClass)+" ")])])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("运行时间")])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(t.data.upTime)+" ")])])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("进程CPU时间")])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s((t.data.progressCpuTime/1e3).toFixed(3))+" 秒 ")])])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("当前堆大小")])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(t.data.heapUsed.toFixed(2))+" MB ")])])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("最大堆大小")])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(t.data.heapMax.toFixed(2))+" MB ")])])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("提交的内存")])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(t.data.heapCommitted.toFixed(2))+" MB ")])])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("GC")])]),a("el-col",{attrs:{span:20}},t._l(t.data.garbageCollectInfos,(function(e){return a("div",{key:e.name,staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(e.name)+"收集:"+t._s(e.count)+", 耗时:"+t._s((e.time/1e3).toFixed(3))+" 秒 ")])})),0)],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("虚拟机")])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(t.data.vmName)+" 版本 "+t._s(t.data.vmVersion)+" ")])])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("处理器数")])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(t.data.availableProcessors)+" ")])])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("物理内存")])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple-light item-content"},[a("div",[t._v(" 总物理内存:"+t._s(t.data.totalPhysicalMemorySize)+" MB ")]),a("div",[t._v(" 空闲物理内存:"+t._s(t.data.freePhysicalMemorySize)+" MB ")]),a("div",[t._v(" 总交换空间:"+t._s(t.data.totalSwapSpaceSize)+" MB ")]),a("div",[t._v(" 空闲交换空间:"+t._s(t.data.freeSwapSpaceSize)+" MB ")])])])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("JVM参数")])]),a("el-col",{attrs:{span:20}},t._l(t.data.vmArgs,(function(e){return a("div",{key:e,staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(e)+" ")])})),0)],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("类路径")])]),a("el-col",{attrs:{span:20}},t._l(t.data.classPaths,(function(e){return a("div",{key:e,staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(e)+" ")])})),0)],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("库路径")])]),a("el-col",{attrs:{span:20}},t._l(t.data.libraryPaths,(function(e){return a("div",{key:e,staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(e)+" ")])})),0)],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("引导类路径")])]),a("el-col",{attrs:{span:20}},t._l(t.data.bootstrapClassPaths,(function(e){return a("div",{key:e,staticClass:"grid-content bg-purple-light item-content"},[t._v(" "+t._s(e)+" ")])})),0)],1)],1)],1)},y=[],k=a("bc3a"),x={name:"VM",data:function(){return{loading:!0,timer:null,id:null,data:null}},methods:{getVmArgs:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.get("/api/jvms/".concat(this.id,"/vm"));case 2:e=t.sent,this.data=e.data,this.loading=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.id=this.$route.params.id;var t=this;this.timer=setInterval((function(){t.getVmArgs()}),1e3)},beforeDestroy:function(){clearInterval(this.timer)}},j=x,O=(a("f9bd"),Object(v["a"])(j,w,y,!1,null,"00eff11e",null)),M=O.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[t.loading?a("van-skeleton",{staticClass:"van-skeleton",attrs:{title:"",row:8}}):t._e(),t.loading?t._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"gc_container"},[a("button",{staticClass:"btn btn-default",on:{click:t.gc}},[t._v("GC")])])]),a("div",{staticClass:"row"},t._l(t.forms,(function(e){return a("div",{key:e,staticClass:"col-md-6"},[a("ve-line",{attrs:{data:e,colors:t.colors}})],1)})),0)])],1)},T=[],R=(a("b0c0"),a("2ef0")),D=a.n(R),P=a("c3da"),$=a.n(P),I=a("5a0c"),V=a.n(I),F=a("bc3a"),L={components:{VeLine:$.a},name:"Memory",data:function(){return{loading:!0,colors:["#304ffe","#b71c1c"],id:null,timer:null,name2Form:{},forms:[]}},methods:{getMemory:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.get("/api/jvms/".concat(this.id,"/memory"));case 2:e=t.sent,this.loading=!1,a=V()().format("mm:ss"),D.a.each(e.data,(function(t){if(D.a.isEmpty(n.name2Form[t.name])){for(var e=V()().subtract(30,"second"),r=[],s=0;s<30;s++){var i=e.add(1,"second"),o=i.format("mm:ss"),c={time:o,max:0};c[t.name]=0,r.push(c),e=i}n.name2Form[t.name]={columns:["time",t.name,"max"],rows:r},n.forms.push(n.name2Form[t.name])}n.name2Form[t.name].rows.shift();var l={time:a,max:t.max/1e3/1e3};l[t.name]=t.used/1e3/1e3,n.name2Form[t.name].rows.push(l)}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),gc:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.post("/api/jvms/".concat(this.id,"/gc"));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=this;this.id=this.$route.params.id,this.timer=setInterval((function(){t.getMemory()}),1e3)},destroyed:function(){clearInterval(this.timer)}},E=L,B=(a("1995"),Object(v["a"])(E,S,T,!1,null,"65465daa",null)),z=B.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[t.loading?a("van-skeleton",{staticClass:"van-skeleton",attrs:{title:"",row:8}}):t._e(),t.loading?t._e():a("ve-line",{attrs:{data:t.form,colors:t.colors}})],1),a("div",{staticClass:"row",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-default",on:{click:t.getThreads}},[a("span",{staticClass:"glyphicon glyphicon-refresh",attrs:{"aria-hidden":"true"}}),t._v("刷新 ")])]),a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-default",on:{click:t.getDeadThreads}},[a("span",{staticClass:"glyphicon glyphicon-lock",attrs:{"aria-hidden":"true"}}),t._v("检测死锁 ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("table",{staticClass:"table table-hover table-bordered"},[t._m(0),a("tbody",t._l(t.threads,(function(e){return a("tr",{key:e.id,staticClass:"item",on:{click:function(a){return t.getThreadDetail(e.id)}}},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.state))])])})),0)])]),a("div",{staticClass:"col-md-6",staticStyle:{overflow:"scroll"}},[a("table",{staticClass:"table table-hover"},[a("tbody",[a("tr",[a("td",[a("pre",[t._v(t._s(t.threadDetail))])])])])])])]),a("el-dialog",{attrs:{title:"死锁",visible:t.dialogShow,width:"80%"},on:{"update:visible":function(e){t.dialogShow=e}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("el-tree",{attrs:{data:t.deadLocks,props:t.defaultProps},on:{"node-click":t.showDeadLock}})],1),a("div",{staticClass:"col-md-8"},[a("pre",[t._v(t._s(t.deadLockThreadDetail))])])])])],1)},A=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("线程名")]),a("th",[t._v("状态")])])])}],N=(a("99af"),a("d81d"),a("bc3a")),G={name:"Thread",components:{VeLine:$.a},data:function(){return{defaultProps:{children:"children",label:"label"},deadLocks:null,dialogShow:!1,loading:!0,id:null,timer:null,threads:[],threadDetail:null,deadLockThreadDetail:null,colors:["#304ffe","#b71c1c"],form:{columns:["time","活动线程","峰值线程"],rows:[]}}},methods:{getThreadsSummary:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.get("/api/jvms/".concat(this.id,"/threads_summary"));case 2:e=t.sent,this.loading=!1,D.a.size(this.form.rows)>=30&&this.form.rows.shift(),this.form.rows.push({time:V()().format("mm:ss"),"活动线程":e.data.activeThreadCount,"峰值线程":e.data.peakThreadCount});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getThreads:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.get("/api/jvms/".concat(this.id,"/threads"));case 2:e=t.sent,this.threads=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getThreadDetail:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.get("/api/jvms/".concat(this.id,"/threads/").concat(e));case 2:a=t.sent,this.threadDetail=a.data;case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getDeadThreads:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.deadLockThreadDetail=null,t.next=3,N.get("/api/jvms/".concat(this.id,"/deadlock"));case 3:if(e=t.sent,0!==D.a.size(e.data)){t.next=7;break}return this.$message({message:"没有死锁线程",type:"success"}),t.abrupt("return");case 7:this.deadLocks=D.a.map(e.data,(function(t,e){var a=D.a.map(t,(function(t){return{label:t.name,threadId:t.threadId}}));return{label:"死锁".concat(e),children:a}})),this.dialogShow=!0;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showDeadLock:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.threadId),D.a.isNumber(e.threadId)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,N.get("/api/jvms/".concat(this.id,"/threads/").concat(e.threadId));case 5:a=t.sent,this.deadLockThreadDetail=a.data;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){var t=this;this.id=this.$route.params.id,this.getThreads(),this.timer=setInterval((function(){t.getThreadsSummary()}),1e3)},destroyed:function(){clearInterval(this.timer)}},U=G,H=(a("4084"),Object(v["a"])(U,J,A,!1,null,"379c8f27",null)),q=H.exports,K=[{path:"/jvm/:id",component:C,children:[{path:"vm",component:M},{path:"memory",component:z},{path:"thread",component:q}]},{path:"/*",component:m}],Q=new s["a"]({routes:K}),W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"navbar navbar-default topnav"},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-header"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v(" Doctor ")])],1)])]),a("div",{staticClass:"container content"},[a("router-view")],1)])},X=[],Y={name:"App"},Z=Y,tt=(a("5c0b"),Object(v["a"])(Z,W,X,!1,null,null,null)),et=tt.exports,at=a("5c96"),nt=a.n(at);a("0fae");n["default"].use(s["a"]),n["default"].use(r["a"]),n["default"].use(nt.a),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(et)},router:Q}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},9917:function(t,e,a){"use strict";var n=a("bf58"),r=a.n(n);r.a},"9c0c":function(t,e,a){},bc98:function(t,e,a){"use strict";var n=a("1d88"),r=a.n(n);r.a},bf58:function(t,e,a){},f9bd:function(t,e,a){"use strict";var n=a("3e98"),r=a.n(n);r.a}});
//# sourceMappingURL=app.6d496069.js.map